---
layout: post
title: '常用数列'
date: 2017-11-09
author: Deluxurous
cover: '/assets/img/mathematics.png'
categories: Math
tags: 数学
excerpt: '常用数学数列/公式总结'
---

## 斐波那契数列 Fibonacci

### 递推公式

设 $F_n$ 为数列的第 $n$ 项，那么有递推公式 $F_n = F_{n-1} + F_{n-2}$ 。

### 通项公式

$$ F_n = \frac{1}{\sqrt{5}}[(\frac{1+\sqrt{5}}{2})^n-(\frac{1-\sqrt{5}}{2})^n] $$

此时 $ F_1 = 1, F_2 = 1 $

### 性质

#### 平方与前后项

从第二项开始，每个奇数项的平方都比前后两项之积多$1$，每个偶数项的平方都比前后两项之积少$1$。

#### 奇数项求和

$$ F_1 + F_3 + F_5 + F_7 + \cdots + F_{2n-1} = F_{2n} - F_2 + F_1 $$

当$ F_1 = F_2 = 1 $时，有

$$ F_1 + F_3 + F_5 + F_7 + \cdots + F_{2n-1} = F_{2n} $$

#### 偶数项求和

$$ F_2 + F_4 + F_6 + F_8 + \cdots + F_{2n} = F_{2n+1} - F_1 $$
 
#### 平方求和

$$ F_1^2 + F_2^2 + F_3^2 + F_4^2 + \cdots + F_n^2 = F_nF_{n+1} $$

#### 隔项之和

$$ F_{2n-2m-2} = F_{2n} + F_{2n+2} = F_{2m+2} + F_{4n-2m} $$

此时$ n > m \geq -1 $，且$ n \geq 1 $

#### 隔项之积

$$ F_{n-1}F_{n+1} = (-1)^n + F_n^2 $$

#### 两倍项关系

$$ F_{2n} = F_{n}(F_{n-1}+F_{n+1}) $$

#### 其他公式

$$ F_1 + 2F_2 + 3F_3 + 4F_4 + \cdots + nF_n = nF_{n+2} - F_{n+3} + 2 $$

### Zeckendorf定理

任何正整数都可以表示成若干个不连续的斐波那契数（不包括第一个斐波那契数）之和。这种和式称为**齐肯多夫表述法**。而对于任何正整数，其齐肯多夫表述法都可以由贪心算法（即每次选出最大可能的斐波那契数）得到。

<hr />

## 帕斯卡/杨辉三角形

### 递推公式

设 $ T_{(n,m)} $ 为帕斯卡三角形第 $n$ 行第 $m$ 列的数，则有：

$$ T_{(n,m)} = T_{(n-1,m-1)} + T_{(n-1,m)} $$

### 性质

1. 帕斯卡三角形以正整数构成，数字左右对称，每行由$1$开始逐渐变大，然后变小，回到$1$。

2. 帕斯卡三角形的第$n$行有$n$个数字。

3. 第$n$行的第$m$个数字$T_{(n,m)}$即为组合数$C_{n-1}^{m-1}$的值。

4. 第$n$行的$n$个数字正好对应于二项式$(a+b)^{n-1}$展开后的系数。

5. 第$n$行的数字之和为$2^{n-1}$。

<hr />

## 卡特兰数 Catalan

### 递推公式

设 $ H_n $ 为第 $n$ 项卡特兰数，且 $H_0 = 1, H_1 = 1$，则有：

$$ H_n = H_0H_{n-1} + H_1H_{n-2} + H_2H_{n-3} + \cdots + H_{n-1}H_0 \ (n \geq 2)$$

或者有：

$$ H_n = H_{n-1} \frac{4n-2}{n+1} $$

### 通项公式

$$ H_n = \frac{C_{2n}^{n}}{n+1} $$

或者：

$$ H_n = C_{2n}^{n}-C_{2n}^{n-1} $$

其中，$n$均大于等于$0$。

### 应用

#### 矩阵连乘/括号正确匹配数

1. 有式子$ A_1 \times A_2 \times A_3 \times \cdots \times A_n $，不改变其中乘数的顺序和最终的结果，仅根据乘法结合律添加括号，共有 $H_n$ 种方案。

2. 用$n$对括号，合法的匹配方案数为 $H_n$ 种。 

#### 出栈次序

已知一个没有深度限制的栈的入栈序列为 $A_1, A_2, A_3, \cdots, A_n$，那么合法的出栈序列共有 $H_n$ 种。

#### 凸多边形三角划分

在一个凸$n$边形中，用若干条互不相交的对角线划分成若干个三角形的划分方案数共有 $H_n$ 种。

#### 给定节点组成二叉树

用节点数$n$能够成 $H_n$ 种不同的二叉树。

<hr />

## 斯特林数 Stirling

### 第一类斯特林数

#### 递推公式

$$ s(n,m) = s(n-1,m-1) + (n-1) \times s(n-1,m) $$

#### 性质

1. $ s(0,0) = 1 $

2. $ s(n,0) = 0 $

3. $ s(n,1) = (n-1)! $

4. $ s(n,n-1) = C_n^2 $

5. $ s(n,n) = 1 $

#### 应用

将 $n$ 个不同元素构成 $m$ 个圆排列的方案数为 $S(n,m)$

### 第二类斯特林数

#### 递推公式

$$ S(n,m) = S(n-1,m-1) + m \times S(n-1,m) $$

#### 性质

1. $ S(n,0) = 0 $

2. $ S(n,1) = 1 $

3. $ S(n,n-1) = C_n^2 $

4. $ S(n,n) = 1 $

#### 应用

将 $n$ 个不同元素拆分成 $m$ 个集合的方案数为 $S(n,m)$

### 两类斯特林数之间的关系

$$ \displaystyle\Sigma_{k=0}^n S(n,k)s(k,m) = \Sigma_{k=0}^n s(n,k)S(k,m) $$

其中 $s$ 表示第一类斯特林数， $S$ 表示第二类斯特林数。

<hr />

## 求和公式

### 等差数列求和

$$ Sum = \frac{n(A_1+A_n)}{2} $$

其中，$A_1$ 为首项，$A_n$ 为末项，$n$ 为项数。

### 等比数列求和

$$ Sum = A_1 \frac{1-q^n}{1-q} = \frac{A_1-A_nq}{1-q} $$

其中，$A_1$ 为首项， $A_n$ 为末项，$n$ 为项数，$q$ 为公比，且 $q \not= 1$ 。

### 等差数列平方和

$$ Sum = \frac{n(A_1+A_n)^2}{4} + \frac{nd^2(n^2-1)}{12} $$

其中，$A_1$ 为首项，$A_n$ 为末项，$n$ 为项数，$d$ 为公差。

### 特殊数列求和

$$ 1 + 2 + 3 + \cdots + n = \frac{n(n+1)}{2} $$

$$ 1^2 + 2^2 + 3^3 + \cdots + n^2 = \frac{n(n+1)(2n+1)}{6} $$

$$ 1^3 + 2^3 + 3^3 + \cdots + n^3 = \frac{n^2(n+1)^2}{4} $$

$$ 1 + 3 + 5 + 7 + \cdots + (2n-1) = n^2 $$